/*--★root で実行する-------------------------------------*/
/* DB作成 */
CREATE DATABASE team16_db CHARACTER SET utf8 COLLATE utf8_general_ci;

/* DBユーザを作成 */
CREATE USER IF NOT EXISTS team16_user IDENTIFIED BY 'team16_user';

/* 権限付与 */
GRANT ALL PRIVILEGES ON team16_db.* TO team16_user;

### 9. データベーススキーマ (schema.sql)

```sql
CREATE TABLE IF NOT EXISTS departments (
    department_code VARCHAR(10) PRIMARY KEY,
    department_name VARCHAR(100) NOT NULL,
    display_order INT,
    delete_flag CHAR(1) DEFAULT '0'
);

CREATE TABLE IF NOT EXISTS employees (
    employee_id VARCHAR(20) PRIMARY KEY,
    employee_name VARCHAR(100) NOT NULL,
    department_code VARCHAR(10),
    authority_type VARCHAR(20) DEFAULT 'GENERAL',
    password VARCHAR(255) NOT NULL,
    hourly_wage DECIMAL(10,2),
    delete_flag CHAR(1) DEFAULT '0',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (department_code) REFERENCES departments(department_code)
);

CREATE TABLE IF NOT EXISTS attendances (
    attendance_id BIGINT AUTO_INCREMENT PRIMARY KEY,
    employee_id VARCHAR(20) NOT NULL,
    target_date DATE NOT NULL,
    attendance_type VARCHAR(20),
    start_time TIME,
    end_time TIME,
    break_time INT DEFAULT 0,
    actual_work_time DECIMAL(4,2),
    created_by VARCHAR(20),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_by VARCHAR(20),
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (employee_id) REFERENCES employees(employee_id)
);

CREATE TABLE IF NOT EXISTS paid_leaves (
    paid_leave_id BIGINT AUTO_INCREMENT PRIMARY KEY,
    employee_id VARCHAR(20) NOT NULL,
    target_year INT NOT NULL,
    granted_days INT DEFAULT 0,
    used_days INT DEFAULT 0,
    remaining_days INT DEFAULT 0,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (employee_id) REFERENCES employees(employee_id)
);

CREATE TABLE IF NOT EXISTS login_sessions (
    session_id VARCHAR(255) PRIMARY KEY,
    employee_id VARCHAR(20) NOT NULL,
    login_datetime TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    last_access_datetime TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    expire_datetime TIMESTAMP,
    ip_address VARCHAR(45),
    FOREIGN KEY (employee_id) REFERENCES employees(employee_id)
);
```

### 10. 初期データ (data.sql)

```sql
-- 部門マスタ
INSERT INTO departments (department_code, department_name, display_order, delete_flag) VALUES
('HR', '人事部', 1, '0'),
('IT', 'IT部', 2, '0'),
('SALES', '営業部', 3, '0');

-- 社員マスタ
INSERT INTO employees (employee_id, employee_name, department_code, authority_type, password, hourly_wage, delete_flag) VALUES
('admin', '管理者', 'HR', 'HR', 'password123', 2000.00, '0'),
('user001', '田中太郎', 'IT', 'GENERAL', 'password123', 1500.00, '0'),
('user002', '佐藤花子', 'SALES', 'GENERAL', 'password123', 1600.00, '0');

-- 有給休暇マスタ
INSERT INTO paid_leaves (employee_id, target_year, granted_days, used_days, remaining_days) VALUES
('user001', 2024, 20, 5, 15),
('user002', 2024, 20, 3, 17);
```
